---
title: "Scripts"
output: 
  html_document:
    theme: cerulean
    code_folding: hide
    toc: true
    toc_float: true
---

## Confidence Intervals

#### Prediction
For individual values. The speed of cars on the road.
Adds 1 standard deviation from confidence.
```{r}
# Prediction

pred_conf_int <- predict(gb, newdata = data.frame(month = 9),
                         interval = "prediction", level = 0.95)

# Display the confidence interval

pred_conf_int
```

#### Confidence

For model or group values. The speed limit.
```{r}
pred_conf_int <- predict(gb, newdata = data.frame(month = 9),
                         interval = "confidence", level = 0.95)

# Display the confidence interval

pred_conf_int
```

#### MSE

```{r}
rss <- sum(residuals(model)^2)
# df = n - 2, df is already - 2, lose df for more parameters
df <- df.residual(model)
mse <- rss / df
mse
```

### Create an x distribution

```{r}
n <- 100
runif(n,-10, 10)
```

### Plots in R

#### Base R 1 line (Quadratic)

```{r}
plot(length ~ width, data=KidsFeet)
new.data <- data.frame(dist = seq(from = min(DATASET$VARIABLE),
                                 to = max(DATASET$VARIABLE), length.out = 200))

pred_lm2 <- predict(MODEL, newdata = new.data)

plot(speed ~ dist, data = cars)
lines(pred_lm ~ new.data$dist, col = "red")
lines(pred_lm2 ~ new.data$dist, col = "blue")
legend("topleft", c("linear", "quadratic"), col = c("red", "blue"), lty = 1)

```

#### Two Lines Same reduced

```{r}
kf2l.lm <- lm(length ~ width + sex, data = KidsFeet)

# Extract coefficients
ß <- coef(kf2l.lm)

# Define prediction function for each sex level
y_boy <- function(x) ß[1] + ß[2] * x  # for sex == B
y_girl <- function(x) (ß[1] + ß[3]) + (ß[2] * x)  # for sex == G

# Generate sequence of x values for plotting
x_seq <- seq(min(KidsFeet$width), max(KidsFeet$width), length.out = 100)

# Calculate predicted values
y_pred_boy <- y_boy(x_seq)
y_pred_girl <- y_girl(x_seq)

# Plot using base R
plot(KidsFeet$width, KidsFeet$length, pch = 19, 
     col = ifelse(KidsFeet$sex == "G", "red", "blue"),
     main = "Regression Lines for Different Sex Levels",
     xlab = "Width", ylab = "Length")

# Add regression lines
lines(x_seq, y_pred_boy, col = "blue", lwd = 2)
lines(x_seq, y_pred_girl, col = "red", lwd = 2)

# Add legend
legend("topright", legend = c("Boys (B)", "Girls (G)"),
       col = c("blue", "red"), lty = 1, lwd = 2)

```


